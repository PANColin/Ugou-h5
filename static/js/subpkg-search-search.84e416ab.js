(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subpkg-search-search"],{"06c5":function(e,t,n){"use strict";n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=i(n("6b75"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(e){if("string"===typeof e)return(0,r.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.default)(e,t):void 0}}},"0e51":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uniSearchBar:n("17ce").default,uniIcons:n("1e0b").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"search-box"},[n("uni-search-bar",{attrs:{radius:100,cancelButton:"none"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.input.apply(void 0,arguments)}}})],1),e.searchList.length?n("v-uni-view",{staticClass:"search-sugg"},e._l(e.searchList,(function(t,r){return n("v-uni-navigator",{key:t.goods_id,staticClass:"search-sugg-item",attrs:{url:"/subpkg/goods_detail/goods_detail?goods_id="+t.goods_id}},[n("v-uni-text",{staticClass:"search-sugg-text"},[e._v(e._s(t.goods_name))]),n("uni-icons",{attrs:{type:"arrowright",size:"25"}})],1)})),1):n("v-uni-view",{staticClass:"history-wrapper"},[n("v-uni-view",{staticClass:"history-title"},[n("v-uni-text",[e._v("搜索历史")]),n("uni-icons",{attrs:{type:"trash",size:"20",color:"#f00"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clearHistory.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"history-item"},e._l(e.historys,(function(t,r){return n("v-uni-navigator",{key:r,staticClass:"history-item-text",attrs:{url:"/subpkg/goods_list/goods_list?query="+t}},[e._v(e._s(t))])})),1)],1)],1)},a=[]},"17ce":function(e,t,n){"use strict";n.r(t);var r=n("59d0"),i=n("63fc");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("3d1c");var o,s=n("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"4faec4cd",null,!1,r["a"],o);t["default"]=c.exports},2248:function(e,t,n){"use strict";var r=n("4ea4");n("a630"),n("26e9"),n("d3b7"),n("6062"),n("3ca3"),n("498a"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("ade3"));n("96cf");var a=r(n("1da1")),o=r(n("2909")),s={data:function(){return{timer:null,kw:"",searchList:[],historyList:[]}},onLoad:function(){this.historyList=JSON.parse(uni.getStorageSync("kw")||"[]")},computed:{historys:function(){return(0,o.default)(this.historyList).reverse()}},methods:{input:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.kw=e.value,t.getSearchList()}),500)},getSearchList:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.kw.trim()){t.next=11;break}return t.next=3,uni.$http.get("/goods/qsearch",{query:e.kw});case 3:if(n=t.sent,r=n.data,200===r.meta.status){t.next=7;break}return t.abrupt("return",uni.$showMsg());case 7:e.searchList=r.message,e.saveSearchHistory(),t.next=13;break;case 11:return e.searchList=[],t.abrupt("return",uni.$showMsg({title:"输入内容不能为空"}));case 13:case"end":return t.stop()}}),t)})))()},saveSearchHistory:function(){var e=new Set(this.historyList);e.delete(this.kw),e.add(this.kw),this.historyList=Array.from(e),uni.setStorageSync("kw",JSON.stringify(this.historyList))},clearHistory:function(){var e,t=this;uni.showModal((e={confirmText:"取消"},(0,i.default)(e,"confirmText","确定"),(0,i.default)(e,"content","请确定要清除历史记录么？亲"),(0,i.default)(e,"title","系统提示"),(0,i.default)(e,"showCancel",!0),(0,i.default)(e,"success",(function(e){e.confirm?(t.historyList=[],uni.setStorageSync("kw","[]"),uni.$showMsg({title:"清除历史记录成功"})):uni.$showMsg({title:"取消清除历史记录"})})),(0,i.default)(e,"fail",(function(e){console.log(e)})),e))}}};t.default=s},2909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=s(n("6005")),i=s(n("db90")),a=s(n("06c5")),o=s(n("3427"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(0,r.default)(e)||(0,i.default)(e)||(0,a.default)(e)||(0,o.default)()}},3153:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.search-sugg .search-sugg-item[data-v-2e464fcd]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:1px solid #999;padding:%?10?% %?30?%;font-size:%?28?%;font-weight:700}.search-sugg .search-sugg-item .search-sugg-text[data-v-2e464fcd]{-webkit-box-flex:1;-webkit-flex:auto;flex:auto;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.search-sugg .search-sugg-item uni-icons[data-v-2e464fcd]{margin:0;text-align:center}.history-wrapper .history-title[data-v-2e464fcd]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?20?% %?20?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:1px solid #999}.history-wrapper .history-item[data-v-2e464fcd]{margin:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex}.history-wrapper .history-item .history-item-text[data-v-2e464fcd]{margin:0 %?20?%;padding:%?6?%;background-color:#f8f8f8}',""]),e.exports=t},3427:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"388c":function(e,t,n){"use strict";n.r(t);var r=n("2248"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"3d1c":function(e,t,n){"use strict";var r=n("45c9"),i=n.n(r);i.a},"45c9":function(e,t,n){var r=n("b386");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("6c429220",r,!0,{sourceMap:!1,shadowMode:!1})},"59d0":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uniIcons:n("1e0b").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-searchbar"},[n("v-uni-view",{staticClass:"uni-searchbar__box",style:{borderRadius:e.radius+"px",backgroundColor:e.bgColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchClick.apply(void 0,arguments)}}},[n("uni-icons",{staticClass:"uni-searchbar__box-icon-search",attrs:{color:"#999999",size:"18",type:"search"}}),e.show?n("v-uni-input",{staticClass:"uni-searchbar__box-search-input",attrs:{focus:e.showSync,placeholder:e.placeholder,maxlength:e.maxlength,"confirm-type":"search",type:"text"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}):n("v-uni-text",{staticClass:"uni-searchbar__text-placeholder"},[e._v(e._s(e.placeholder))]),e.show&&("always"===e.clearButton||"auto"===e.clearButton&&""!==e.searchVal)?n("v-uni-view",{staticClass:"uni-searchbar__box-icon-clear",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}},[n("uni-icons",{attrs:{color:"#999999",size:"24",type:"clear"}})],1):e._e()],1),"always"===e.cancelButton||e.show&&"auto"===e.cancelButton?n("v-uni-text",{staticClass:"uni-searchbar__cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v(e._s(e.cancelText))]):e._e()],1)},a=[]},"5f70":function(e,t,n){"use strict";var r=n("6ada"),i=n.n(r);i.a},6005:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=i(n("6b75"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e))return(0,r.default)(e)}},6062:function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"63fc":function(e,t,n){"use strict";n.r(t);var r=n("8205"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},6566:function(e,t,n){"use strict";var r=n("9bf2").f,i=n("7c73"),a=n("e2cc"),o=n("0366"),s=n("19aa"),c=n("2266"),u=n("7dd0"),l=n("2626"),f=n("83ab"),d=n("f183").fastKey,h=n("69f3"),p=h.set,b=h.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&c(r,e[u],e,n)})),h=b(t),v=function(e,t,n){var r,i,a=h(e),o=x(e,t);return o?o.value=n:(a.last=o={index:i=d(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},x=function(e,t){var n,r=h(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(l.prototype,{clear:function(){var e=this,t=h(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),r=x(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=h(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!x(this,e)}}),a(l.prototype,n?{get:function(e){var t=x(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=b(t),a=b(r);u(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},6664:function(e,t,n){"use strict";n.r(t);var r=n("0e51"),i=n("388c");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("5f70");var o,s=n("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"2e464fcd",null,!1,r["a"],o);t["default"]=c.exports},"6ada":function(e,t,n){var r=n("3153");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("b8dad96e",r,!0,{sourceMap:!1,shadowMode:!1})},"6b75":function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"6d61":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("f183"),c=n("2266"),u=n("19aa"),l=n("861d"),f=n("d039"),d=n("1c7e"),h=n("d44e"),p=n("7156");e.exports=function(e,t,n){var b=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),x=b?"set":"add",y=i[e],w=y&&y.prototype,g=y,k={},m=function(e){var t=w[e];o(w,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof y||!(v||w.forEach&&!f((function(){(new y).entries().next()})))))g=n.getConstructor(t,e,b,x),s.REQUIRED=!0;else if(a(e,!0)){var _=new g,S=_[x](v?{}:-0,1)!=_,j=f((function(){_.has(1)})),z=d((function(e){new y(e)})),C=!v&&f((function(){var e=new y,t=5;while(t--)e[x](t,t);return!e.has(-0)}));z||(g=t((function(t,n){u(t,g,e);var r=p(new y,t,g);return void 0!=n&&c(n,r[x],r,b),r})),g.prototype=w,w.constructor=g),(j||C)&&(m("delete"),m("has"),b&&m("get")),(C||S)&&m(x),v&&w.clear&&delete w.clear}return k[e]=g,r({global:!0,forced:g!=y},k),h(g,e),v||n.setStrong(g,e,b),g}},8205:function(e,t,n){"use strict";var r=n("4ea4");n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("1e0b")),a={name:"UniSearchBar",components:{uniIcons:i.default},props:{placeholder:{type:String,default:"请输入搜索内容"},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:"取消"},bgColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100}},data:function(){return{show:!0,showSync:!0,searchVal:""}},watch:{searchVal:function(){this.$emit("input",{value:this.searchVal})}},methods:{searchClick:function(){var e=this;this.show||(this.searchVal="",this.show=!0,this.$nextTick((function(){e.showSync=!0})))},clear:function(){this.searchVal=""},cancel:function(){this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,uni.hideKeyboard()},confirm:function(){uni.hideKeyboard(),this.$emit("confirm",{value:this.searchVal})}}};t.default=a},b386:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-searchbar[data-v-4faec4cd]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;position:relative;padding:%?16?%;background-color:#c00000}.uni-searchbar__box[data-v-4faec4cd]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:36px;padding:5px 8px 5px 0;border-width:.5px;border-style:solid;border-color:#c8c7cc}.uni-searchbar__box-icon-search[data-v-4faec4cd]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:32px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:grey}.uni-searchbar__box-search-input[data-v-4faec4cd]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#333}.uni-searchbar__box-icon-clear[data-v-4faec4cd]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:24px;padding-left:5px}.uni-searchbar__text-placeholder[data-v-4faec4cd]{font-size:%?28?%;color:grey;margin-left:5px}.uni-searchbar__cancel[data-v-4faec4cd]{padding-left:10px;line-height:36px;font-size:14px;color:#333}',""]),e.exports=t},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},db90:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},f183:function(e,t,n){var r=n("d012"),i=n("861d"),a=n("5135"),o=n("9bf2").f,s=n("90e3"),c=n("bb2f"),u=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(e){o(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[u].objectID},p=function(e,t){if(!a(e,u)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[u].weakData},b=function(e){return c&&v.REQUIRED&&f(e)&&!a(e,u)&&d(e),e},v=e.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:b};r[u]=!0}}]);